<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ë—Ä–µ–π–Ω‚Äë—Ä–∏–Ω–≥: –ñ–∏–≤–æ—Ç–Ω—ã–µ –¥–∂—É–Ω–≥–ª–µ–π</title>
  <style>
    /* ====== –Ø—Ä–∫–∞—è –¥–µ—Ç—Å–∫–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∏ –±–∞–∑–æ–≤–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ ====== */
    :root{
      --bg-1: #E0FFF4; /* –º—è–≥–∫–∏–π –∑–µ–ª—ë–Ω—ã–π */
      --bg-2: #FFF8E6; /* –º—è–≥–∫–∏–π –∂—ë–ª—Ç—ã–π */
      --card: #FFFFFF;
      --accent: #00A86B; /* —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –∑–µ–ª—ë–Ω—ã–π */
      --accent-2: #FFD166; /* —è—Ä–∫–∏–π –∂–µ–ª—Ç—ã–π */
      --accent-3: #FF6B6B; /* –∫–æ—Ä–∞–ª–ª–æ–≤—ã–π –¥–ª—è –æ—à–∏–±–æ–∫ */
      --text:#12342b;
      --muted:#53626a;
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 12px 30px rgba(12,40,30,0.12);
      font-family: system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;padding:20px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg-1),var(--bg-2));color:var(--text);
      -webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
    }

    /* ====== –ö–∞—Ä—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ====== */
    .app{width:100%;max-width:1150px;border-radius:20px;overflow:hidden;display:grid;grid-template-columns:380px 1fr;gap:0;box-shadow:var(--shadow);}
    @media (max-width:920px){.app{grid-template-columns:1fr}}

    /* ====== –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ + —Å—á—ë—Ç) ====== */
    .panel{padding:20px;background:linear-gradient(180deg,#FFFFFF, #F7FFF9);display:flex;flex-direction:column;gap:16px}
    .brand{display:flex;gap:12px;align-items:center}

    /* –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π SVG –ª–æ–≥–æ—Ç–∏–ø */
    .logo{width:68px;height:68px;border-radius:14px;background:linear-gradient(135deg,var(--accent),#4DD599);display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px rgba(0,168,107,0.18)}
    .logo svg{width:44px;height:44px}

    h1{font-size:20px;margin:0}
    .subtitle{font-size:13px;color:var(--muted)}

    .setup{background:linear-gradient(180deg,#fff,#fffe);padding:12px;border-radius:12px;border:1px solid rgba(10,40,30,0.04)}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}

    input[type=text], input[type=number]{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(20,60,40,0.08);font-size:14px}
    .teams{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
    .team-chip{background:linear-gradient(90deg,#fff,#f3fff7);padding:8px 10px;border-radius:10px;border:1px solid rgba(20,60,40,0.06);font-weight:700}

    .controls-row{display:flex;gap:10px}
    .btn{display:inline-flex;gap:8px;align-items:center;padding:10px 14px;border-radius:12px;border:none;background:linear-gradient(90deg,var(--accent),#4dd599);color:white;font-weight:800;cursor:pointer;box-shadow:0 8px 18px rgba(0,0,0,0.08);transition:transform .12s ease}
    .btn:active{transform:translateY(2px)}
    .btn.secondary{background:transparent;border:2px solid rgba(0,0,0,0.06);color:var(--accent);font-weight:700}

    .scoreboard{display:flex;flex-direction:column;gap:10px;padding-top:8px}
    .score-row{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:12px;background:linear-gradient(180deg,#fff,#f7fff9);box-shadow:0 6px 18px rgba(12,40,30,0.04)}
    .score-name{font-weight:800}
    .score-bubble{background:linear-gradient(90deg,var(--accent-2),#FFBE4A);color:#2b2b2b;padding:6px 12px;border-radius:999px;font-weight:900}

    .legend{font-size:12px;color:var(--muted)}

    /* ====== –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (–∏–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞) ====== */
    .play-area{padding:22px;display:flex;flex-direction:column;gap:14px;background:linear-gradient(180deg,#FBFFF8,#F1FFF6)}
    .top-row{display:flex;justify-content:space-between;align-items:center}

    .turn-indicator{font-weight:900;font-size:16px}

    .question-card{background:linear-gradient(180deg,#fff,#FFFEF7);border-radius:16px;padding:20px;box-shadow:0 18px 40px rgba(12,40,30,0.06);min-height:230px;display:flex;flex-direction:column}

    .q-head{display:flex;justify-content:space-between;align-items:center}
    .q-level{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;font-weight:900}
    .q-level.easy{background:linear-gradient(90deg,#DFF6EC,#E8FFF5);color:#0f8c58}
    .q-level.medium{background:linear-gradient(90deg,#FFF4D6,#FFFCE8);color:#b97700}
    .q-level.hard{background:linear-gradient(90deg,#FFEFF1,#FFF5F6);color:var(--accent-3)}

    .q-text{font-size:20px;font-weight:900;margin-top:12px}
    .answers{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px}
    @media (max-width:640px){.answers{grid-template-columns:1fr}}

    .answer-btn{display:flex;align-items:center;gap:8px;padding:14px;border-radius:12px;border:2px solid rgba(20,60,40,0.06);background:linear-gradient(180deg,#fff,#fffdf7);cursor:pointer;font-weight:900;font-size:15px;transition:transform .12s ease,box-shadow .12s}
    .answer-btn:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,0.06)}
    .answer-btn.disabled{opacity:0.6;pointer-events:none}

    .feedback{height:28px;font-weight:900;margin-top:8px}
    .feedback.good{color:var(--accent)}
    .feedback.bad{color:var(--accent-3)}

    .risk-pills{display:flex;gap:10px}
    .risk-pill{display:inline-flex;gap:8px;align-items:center;padding:10px 12px;border-radius:12px;border:none;background:linear-gradient(90deg,#fff,#fff);cursor:pointer;font-weight:900;box-shadow:0 8px 20px rgba(0,0,0,0.04)}
    .risk-pill:active{transform:translateY(2px)}

    .footer{display:flex;justify-content:space-between;align-items:center;margin-top:auto}

    /* Confetti (–ø—Ä–æ—Å—Ç–∞—è) */
    .confetti-piece{position:absolute;width:8px;height:14px;border-radius:2px;opacity:0}

    /* –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ */
    .smooth{transition:all .2s ease}

  </style>
</head>
<body>
  <div class="app" role="application" aria-labelledby="title">
    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <section class="panel">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <!-- SVG-–∏–∫–æ–Ω–∫–∞ –¥–∂—É–Ω–≥–ª–µ–π: –ª–∏—Å—Ç + –ª–∞–ø–∞ -->
          <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect width="64" height="64" rx="12" fill="url(#g)" />
            <defs>
              <linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#00A86B"/><stop offset="1" stop-color="#4DD599"/></linearGradient>
            </defs>
            <path d="M20 38c0-8 12-14 20-14" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
            <circle cx="42" cy="28" r="4" fill="#fff"/>
            <path d="M28 44c2-4 8-6 12-4" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
          </svg>
        </div>
        <div>
          <h1 id="title">–ë—Ä–µ–π–Ω‚Äë—Ä–∏–Ω–≥: –ñ–∏–≤–æ—Ç–Ω—ã–µ –¥–∂—É–Ω–≥–ª–µ–π</h1>
          <div class="subtitle">–í–æ–∑—Ä–∞—Å—Ç: 12‚Äì14 –ª–µ—Ç ‚Ä¢ 3 —É—Ä–æ–≤–Ω—è ‚Ä¢ 15 –≤–æ–ø—Ä–æ—Å–æ–≤</div>
        </div>
      </div>

      <div class="setup" id="setup">
        <label>–ß–∏—Å–ª–æ –∫–æ–º–∞–Ω–¥ (2‚Äì4)</label>
        <input id="teamCount" type="number" min="2" max="4" value="2">

        <label style="margin-top:10px">–ò–º–µ–Ω–∞ –∫–æ–º–∞–Ω–¥ (—á–µ—Ä–µ–∑ Enter –∏–ª–∏ –Ω–∞–∂–∞—Ç—å +)</label>
        <div style="display:flex;gap:8px;margin-bottom:8px">
          <input id="teamInput" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –õ–µ–æ–ø–∞—Ä–¥—ã" />
          <button class="btn secondary" id="addTeamBtn">+
          </button>
        </div>
        <div class="teams" id="teamList" aria-live="polite"></div>

        <div class="controls-row" style="margin-top:10px">
          <button class="btn" id="startBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
          <button class="btn secondary" id="resetBtn">–°–±—Ä–æ—Å</button>
        </div>
      </div>

      <div>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div class="legend">–¢–µ–∫—É—â–∏–π —Å—á—ë—Ç</div>
          <div class="muted">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî –æ—á–∫–∏ –ø–æ —Ä–∏—Å–∫—É</div>
        </div>
        <div class="scoreboard" id="scoreboard"></div>
      </div>

      <div style="margin-top:6px">
        <div class="legend">–ü—Ä–∞–≤–∏–ª–∞</div>
        <ul style="padding-left:18px">
          <li>3 —É—Ä–æ–≤–Ω—è: –õ—ë–≥–∫–∏–π (10), –°—Ä–µ–¥–Ω–∏–π (20), –°–ª–æ–∂–Ω—ã–π (30)</li>
          <li>–ü–æ –æ—á–µ—Ä–µ–¥–∏ –∫–æ–º–∞–Ω–¥—ã –≤—ã–±–∏—Ä–∞—é—Ç —É—Ä–æ–≤–µ–Ω—å –∏ –æ—Ç–≤–µ—á–∞—é—Ç</li>
          <li>–ò–≥—Ä–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω–∞ ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ</li>
        </ul>
      </div>

      <div class="muted" style="margin-top:auto">–ì–æ—Ç–æ–≤–æ ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: —è—Ä—á–µ, –±–æ–ª—å—à–µ —à—Ä–∏—Ñ—Ç—ã, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ SVG –∏ –∞–Ω–∏–º–∞—Ü–∏—è.</div>
    </section>

    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <main class="play-area">
      <div class="top-row">
        <div class="turn-indicator" id="turnIndicator">–û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞</div>
        <div style="display:flex;gap:10px;align-items:center">
          <div class="muted">–û—Å—Ç–∞–ª–æ—Å—å: <strong id="remaining">15</strong></div>
        </div>
      </div>

      <div class="question-card" id="questionCard" aria-live="polite">
        <div class="q-head">
          <div class="q-level" id="levelPill">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</div>
          <div class="q-meta muted" id="meta">‚Äî</div>
        </div>

        <div class="q-text" id="questionText">–ù–∞–∂–º–∏—Ç–µ ¬´–ù–∞—á–∞—Ç—å –∏–≥—Ä—É¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.</div>

        <div class="answers" id="answers"></div>

        <div class="feedback" id="feedback"></div>

        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
          <div class="risk-pills">
            <button class="risk-pill" data-risk="easy" id="pickEasy">üåø –õ—ë–≥–∫–∏–π (10)</button>
            <button class="risk-pill" data-risk="medium" id="pickMedium">üî• –°—Ä–µ–¥–Ω–∏–π (20)</button>
            <button class="risk-pill" data-risk="hard" id="pickHard">ü¶Å –°–ª–æ–∂–Ω—ã–π (30)</button>
          </div>
          <div class="muted">–¢–µ–∫—É—â–∏–π —Ö–æ–¥: <strong id="currentTeam">‚Äî</strong></div>
        </div>
      </div>

      <div class="footer">
        <div class="muted" id="progress">–í–æ–ø—Ä–æ—Å 0 –∏–∑ 15</div>
        <div style="display:flex;gap:10px">
          <button class="btn secondary" id="skipBtn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
          <button class="btn" id="nextBtn" disabled>–°–ª–µ–¥—É—é—â–∏–π</button>
        </div>
      </div>
    </main>
  </div>

  <!-- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è) -->
  <div id="confettiRoot" style="position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none;overflow:visible"></div>

<script>
/* ==========================================================
   –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã: —Å—Ç–∞—Ä—Ç —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞
   —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –∑–∞–¥–∞–Ω—ã, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è;
   —É–ª—É—á—à–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏)
   ========================================================== */

const QUESTIONS = {
  easy: [
    {q: '–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –æ–±—ã—á–Ω–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´—Ü–∞—Ä—ë–º –¥–∂—É–Ω–≥–ª–µ–π¬ª (–Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∂–∏–≤—ë—Ç –≤ —Å–∞–≤–∞–Ω–Ω–µ)?', opts: ['–¢–∏–≥—Ä','–õ–µ–≤','–Ø–≥—É–∞—Ä','–ü—É–º–∞'], a:1, info:'–õ–µ–≤ ‚Äî —á–∞—â–µ –≤ —Å–∞–≤–∞–Ω–Ω–∞—Ö –ê—Ñ—Ä–∏–∫–∏.'},
    {q: '–ö–∞–∫–∞—è –∫—Ä—É–ø–Ω–∞—è –∫–æ—à–∫–∞ –ø–æ –æ–∫—Ä–∞—Å—É —á–∞—Å—Ç–æ –ø–æ–ª–æ—Å–∞—Ç–∞—è?', opts: ['–ë–µ–Ω–≥–∞–ª—å—Å–∫–∏–π —Ç–∏–≥—Ä','–õ–µ–æ–ø–∞—Ä–¥','–ê–∑–∏–∞—Ç—Å–∫–∏–π –ª–µ–≤','–ü—É–º–∞'], a:0, info:'–¢–∏–≥—Ä—ã –∏–º–µ—é—Ç –ø–æ–ª–æ—Å—ã.'},
    {q: '–ö–∞–∫–æ–µ –∏–∑ —ç—Ç–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö ‚Äî –Ω–∞—Å–µ–∫–æ–º–æ—è–¥–Ω–æ–µ?', opts: ['–ö–∞–ø–∏–±–∞—Ä–∞','–ú—É—Ä–∞–≤—å–µ–¥','–¢–∞–ø–∏—Ä','–ú–∞–∫–∞–∫–∞'], a:1, info:'–ú—É—Ä–∞–≤—å–µ–¥ –ø–∏—Ç–∞–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º—É—Ä–∞–≤—å—è–º–∏ –∏ —Ç–µ—Ä–º–∏—Ç–∞–º–∏.'},
    {q: '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç—Ä—É–±–∞ —É —Å–ª–æ–Ω–∞, –∫–æ—Ç–æ—Ä—É—é –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–∫ –Ω–æ—Å?', opts: ['–•–æ–±–æ—Ç','–•–≤–æ—Å—Ç','–ö–ª—é–≤','–†—ã–ª–æ'], a:0, info:'–•–æ–±–æ—Ç ‚Äî —É–¥–ª–∏–Ω—ë–Ω–Ω—ã–π –Ω–æ—Å —Å–ª–æ–Ω–∞.'},
    {q: '–ö–∞–∫–æ–π –∏–∑ —ç—Ç–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö —É–º–µ–µ—Ç —Ö–æ—Ä–æ—à–æ –ª–∞–∑–∏—Ç—å –ø–æ –¥–µ—Ä–µ–≤—å—è–º –∏ —á–∞—Å—Ç–æ –∂–∏–≤—ë—Ç –≤ –¥–∂—É–Ω–≥–ª—è—Ö?', opts: ['–û–±–µ–∑—å—è–Ω–∞','–ù–æ—Å–æ—Ä–æ–≥','–ö—Ä–æ–∫–æ–¥–∏–ª','–ê–Ω—Ç–∏–ª–æ–ø–∞'], a:0, info:'–û–±–µ–∑—å—è–Ω—ã ‚Äî –æ—Ç–ª–∏—á–Ω—ã–µ –ª–∞–∑–∞–ª—å—â–∏–∫–∏.'}
  ],
  medium: [
    {q: '–£ —è–≥—É–∞—Ä–∞ –∏ –ª–µ–æ–ø–∞—Ä–¥–∞ —Å—Ö–æ–∂–∞—è –≤–Ω–µ—à–Ω–æ—Å—Ç—å: –∫–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å —è–≥—É–∞—Ä–∞?', opts:['–Ø–≥—É–∞—Ä –∫—Ä—É–ø–Ω–µ–µ –∏ —Å –ø—è—Ç–Ω–∞–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏','–Ø–≥—É–∞—Ä –ø–æ–ª–æ—Å–∞—Ç—ã–π','–Ø–≥—É–∞—Ä –º–µ–Ω—å—à–µ –∏ –±–µ–∑ –ø—è—Ç–µ–Ω','–Ø–≥—É–∞—Ä –∏–º–µ–µ—Ç –≥—Ä–∏–∂—É'], a:0, info:'–£ —è–≥—É–∞—Ä–∞ —Ä–æ–∑–µ—Ç–∫–∏ —á–∞—Å—Ç–æ —Å —Ç–æ—á–∫–æ–π –≤–Ω—É—Ç—Ä–∏.'},
    {q: '–ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ö–∞–º–µ–ª–µ–æ–Ω—É –º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è?', opts:['–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∫–æ–∂–∏','–®–µ—Ä—Å—Ç—å','–ö—Ä—ã–ª—å—è','–†–∞–¥—É–∂–∫–∞ –≥–ª–∞–∑–∞'], a:0, info:'–•–∞–º–µ–ª–µ–æ–Ω—ã –º–µ–Ω—è—é—Ç —Ü–≤–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —Ö—Ä–æ–º–∞—Ç–æ—Ñ–æ—Ä–∞–º.'},
    {q: '–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è –æ–±–µ–∑—å—è–Ω–∞ –≤ –¥–∂—É–Ω–≥–ª—è—Ö –Æ–≥–æ-–í–æ—Å—Ç–æ—á–Ω–æ–π –ê–∑–∏–∏?', opts:['–û—Ä–∞–Ω–≥—É—Ç–∞–Ω–≥','–ì–æ—Ä–∏–ª–ª–∞','–®–∏–º–ø–∞–Ω–∑–µ','–ì–∏–±–±–æ–Ω'], a:0, info:'–û—Ä–∞–Ω–≥—É—Ç–∞–Ω–≥–∏ ‚Äî –∫—Ä—É–ø–Ω–µ–π—à–∏–µ –¥—Ä–µ–≤–µ—Å–Ω—ã–µ –ø—Ä–∏–º–∞—Ç—ã.'},
    {q: '–ö–∞–∫–æ–π —è–¥–æ–≤–∏—Ç—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –∫–æ–∂–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏—Ö –ª—è–≥—É—à–µ–∫?', opts:['–ê–ª–∫–∞–ª–æ–∏–¥—ã','–ë–µ–ª–∫–∏','–°–∞—Ö–∞—Ä','–•–ª–æ—Ä'], a:0, info:'–¢–æ–∫—Å–∏—á–Ω—ã–µ –∞–ª–∫–∞–ª–æ–∏–¥—ã –∑–∞—â–∏—â–∞—é—Ç –ª—è–≥—É—à–µ–∫.'},
    {q: '–ö–∞–∫—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–º–µ—é—Ç –ª–µ—Ç—É—á–∏–µ –ª–∏—Å–∏—Ü—ã (–ª–µ—Ç—É—á–∏–µ –º—ã—à–∏) –≤ –¥–∂—É–Ω–≥–ª—è—Ö?', opts:['–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —ç—Ö–æ–ª–æ–∫–∞—Ü–∏–∏','–õ–µ—á–µ–Ω–∏–µ —Ä–∞–Ω','–°–µ–∑–æ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –≤ –ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥—É','–°–ø—è—Ç –ø–æ–¥ –≤–æ–¥–æ–π'], a:0, info:'–ú–Ω–æ–≥–∏–µ –≤–∏–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ö–æ–ª–æ–∫–∞—Ü–∏—é.'}
  ],
  hard: [
    {q: '–ü–æ—á–µ–º—É —É –±–µ–Ω–≥–∞–ª—å—Å–∫–æ–≥–æ —Ç–∏–≥—Ä–∞ –µ—Å—Ç—å –ø–æ–ª–æ—Å—ã? –ö–∞–∫–æ–≤–∞ –∏—Ö —Ñ—É–Ω–∫—Ü–∏—è?', opts:['–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –≤ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏','–î–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤','–ß—Ç–æ–±—ã –ø–ª–∞–≤–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ','–î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∂–∏—Ä–∞'], a:0, info:'–ü–æ–ª–æ—Å—ã –ø–æ–º–æ–≥–∞—é—Ç —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π –≤ –≤—ã—Å–æ–∫–æ–π —Ç—Ä–∞–≤–µ.'},
    {q: '–ö–∞–∫–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É —Å–µ–º—å—é –≤–∏–¥–∞–º–∏ –º—É—Ä–∞–≤—å–µ–¥–æ–≤ –∏ –∏—Ö —è–∑—ã–∫–æ–º?', opts:['–£ –º—É—Ä–∞–≤—å–µ–¥–æ–≤ –¥–ª–∏–Ω–Ω—ã–π –ª–∏–ø–∫–∏–π —è–∑—ã–∫ –¥–ª—è –ø–æ–µ–¥–∞–Ω–∏—è –º—É—Ä–∞–≤—å—ë–≤','–£ –º—É—Ä–∞–≤—å–µ–¥–æ–≤ —è–¥–æ–≤–∏—Ç—ã–π —è–∑—ã–∫','–Ø–∑—ã–∫ –∫–æ—Ä–æ—Ç–∫–∏–π –∏ —Ç–æ–ª—Å—Ç—ã–π','–ú—É—Ä–∞–≤—å–µ–¥—ã –ø–∏—Ç–∞—é—Ç—Å—è –ª–∏—Å—Ç—å—è–º–∏'], a:0, info:'–î–ª–∏–Ω–Ω—ã–π –ª–∏–ø–∫–∏–π —è–∑—ã–∫ –ø–æ–º–æ–≥–∞–µ—Ç –¥–æ–±—ã–≤–∞—Ç—å –º—É—Ä–∞–≤—å—ë–≤.'},
    {q: '–ö–∞–∫—É—é —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é —Ä–æ–ª—å —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç –∫—Ä—É–ø–Ω—ã–µ —Ç—Ä–∞–≤–æ—è–¥–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–ø–∏—Ä—ã) –≤ –¥–∂—É–Ω–≥–ª—è—Ö?', opts:['–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–º—è–Ω','–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –∫–∏—Å–ª–æ—Ä–æ–¥–∞','–ü–æ—á–≤–µ–Ω–Ω–∞—è —ç—Ä–æ–∑–∏—è','–û—á–∏—Å—Ç–∫–∞ —Ä–µ–∫'], a:0, info:'–ö—Ä—É–ø–Ω—ã–µ —Ç—Ä–∞–≤–æ—è–¥–Ω—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç —Å–µ–º–µ–Ω–∞ —á–µ—Ä–µ–∑ —Ñ–µ–∫–∞–ª–∏–∏.'},
    {q: '–ü–æ—á–µ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∂—É–Ω–≥–ª–µ–≤—ã–µ –ø—Ç–∏—Ü—ã –∏–º–µ—é—Ç —è—Ä–∫–∏–µ –æ–ø–µ—Ä–µ–Ω–∏—è, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–∏—Å–∫ —Ö–∏—â–Ω–∏–∫–æ–≤?', opts:['–ß—Ç–æ–±—ã –ø—Ä–∏–≤–ª–µ—á—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞','–ß—Ç–æ–±—ã –±—ã—Ç—å –Ω–µ–∑–∞–º–µ—Ç–Ω—ã–º–∏','–ß—Ç–æ–± –Ω–µ –ª–µ—Ç–∞—Ç—å','–ß—Ç–æ–±—ã –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Å–µ–º–µ–Ω–∞'], a:0, info:'–Ø—Ä–∫–æ–µ –æ–ø–µ—Ä–µ–Ω–∏–µ —á–∞—Å—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –±—Ä–∞—á–Ω—ã–º –æ—Ç–±–æ—Ä–æ–º.'},
    {q: '–ö–∞–∫–æ–π –∏–∑ —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –Ω–∞–∏–±–æ–ª–µ–µ —É–≥—Ä–æ–∂–∞–µ—Ç –±–∏–æ—Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—é –¥–∂—É–Ω–≥–ª–µ–π?', opts:['–í—ã—Ä—É–±–∫–∞ –ª–µ—Å–∞ –∏ —É—Ç—Ä–∞—Ç–∞ —Å—Ä–µ–¥—ã','–ò–∑–±—ã—Ç–æ–∫ –¥–æ–∂–¥–µ–π','–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ö–∏—â–Ω–∏–∫–∏','–ù–∞–ª–∏—á–∏–µ —Ñ—Ä—É–∫—Ç–æ–≤'], a:0, info:'–í—ã—Ä—É–±–∫–∞ –∏ –ø–æ—Ç–µ—Ä—è —Å—Ä–µ–¥—ã –∏–º–µ—é—Ç –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π —É—â–µ—Ä–±.'}
  ]
};

const POINTS = {easy:10, medium:20, hard:30};
let teams = []; // {name, score}
let teamCount = 2;
let currentTeamIndex = 0;
let totalQuestions = QUESTIONS.easy.length + QUESTIONS.medium.length + QUESTIONS.hard.length;
let askedCount = 0;
let pool = {easy:[], medium:[], hard:[]};

// DOM
const teamCountInput = document.getElementById('teamCount');
const teamInput = document.getElementById('teamInput');
const addTeamBtn = document.getElementById('addTeamBtn');
const teamListDiv = document.getElementById('teamList');
const startBtn = document.getElementById('startBtn');
const resetBtn = document.getElementById('resetBtn');
const scoreboardDiv = document.getElementById('scoreboard');
const turnIndicator = document.getElementById('turnIndicator');
const currentTeamEl = document.getElementById('currentTeam');
const remainingEl = document.getElementById('remaining');
const questionText = document.getElementById('questionText');
const answersDiv = document.getElementById('answers');
const feedbackDiv = document.getElementById('feedback');
const levelPill = document.getElementById('levelPill');
const pickEasy = document.getElementById('pickEasy');
const pickMedium = document.getElementById('pickMedium');
const pickHard = document.getElementById('pickHard');
const skipBtn = document.getElementById('skipBtn');
const nextBtn = document.getElementById('nextBtn');
const progressEl = document.getElementById('progress');
const metaEl = document.getElementById('meta');
const confettiRoot = document.getElementById('confettiRoot');

// util
function shuffle(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}}
function escapeHtml(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;');}

function resetPool(){pool.easy = QUESTIONS.easy.map((q,i)=>Object.assign({},q,{id:i}));pool.medium = QUESTIONS.medium.map((q,i)=>Object.assign({},q,{id:i}));pool.hard = QUESTIONS.hard.map((q,i)=>Object.assign({},q,{id:i}));shuffle(pool.easy);shuffle(pool.medium);shuffle(pool.hard);} 

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI
function renderTeamChips(){teamListDiv.innerHTML='';teams.forEach((t,idx)=>{const el=document.createElement('div');el.className='team-chip';el.textContent=`${idx+1}. ${t.name}`;teamListDiv.appendChild(el);});renderScoreboard();}
function renderScoreboard(){scoreboardDiv.innerHTML='';teams.forEach((t,idx)=>{const row=document.createElement('div');row.className='score-row';row.innerHTML=`<div class="score-name">${idx+1}. ${escapeHtml(t.name)}</div><div class="score-bubble" id="score-${idx}">${t.score}</div>`;scoreboardDiv.appendChild(row);});}

addTeamBtn.addEventListener('click', ()=>{const name = teamInput.value.trim(); if(!name) return flash(teamInput); if(teams.length >= Number(teamCountInput.value)) return alert('–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∫–æ–º–∞–Ω–¥'); teams.push({name,score:0}); teamInput.value=''; renderTeamChips();});
teamInput.addEventListener('keydown',(e)=>{if(e.key==='Enter') addTeamBtn.click();});
teamCountInput.addEventListener('change',()=>{const val=Number(teamCountInput.value); if(val<2) teamCountInput.value=2; if(val>4) teamCountInput.value=4; if(teams.length>val) teams=teams.slice(0,val); renderTeamChips();});

startBtn.addEventListener('click', ()=>{
  teamCount = Number(teamCountInput.value) || 2;
  // –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥ –º–µ–Ω—å—à–µ, —á–µ–º —É–∫–∞–∑–∞–Ω–æ ‚Äî –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–π–º–∞–º–∏
  while(teams.length < teamCount){ teams.push({name:'–ö–æ–º–∞–Ω–¥–∞ '+(teams.length+1), score:0}); }
  // –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥ –≤–æ–æ–±—â–µ –Ω–µ—Ç (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –≤–≤–æ–¥–∏–ª) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å 2 –∫–æ–º–∞–Ω–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  if(teams.length === 0){ teams = [{name:'–ö–æ–º–∞–Ω–¥–∞ 1',score:0},{name:'–ö–æ–º–∞–Ω–¥–∞ 2',score:0}]; }
  // –ì–æ—Ç–æ–≤–∏–º –∏–≥—Ä—É
  resetPool(); teams.forEach(t=>t.score=0); currentTeamIndex=0; askedCount=0; updateUIForNewGame(); pickTurn();
});

resetBtn.addEventListener('click', ()=>{ if(!confirm('–°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É –∏ –∏–º–µ–Ω–∞ –∫–æ–º–∞–Ω–¥?')) return; teams=[]; renderTeamChips(); resetPool(); askedCount=0; updateMeta(); questionText.textContent='–ù–∞–∂–º–∏—Ç–µ ¬´–ù–∞—á–∞—Ç—å –∏–≥—Ä—É¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.'; turnIndicator.textContent='–û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞';});

function updateUIForNewGame(){ renderScoreboard(); remainingEl.textContent=totalQuestions; progressEl.textContent=`–í–æ–ø—Ä–æ—Å 0 –∏–∑ ${totalQuestions}`; feedbackDiv.textContent=''; questionText.textContent=`–ö–æ–º–∞–Ω–¥—ã –≥–æ—Ç–æ–≤—ã ‚Äî ${teams[0].name} –≤—ã–±–∏—Ä–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å.`; currentTeamEl.textContent = teams[currentTeamIndex].name; turnIndicator.textContent = '–ò–≥—Ä–∞ –Ω–∞—á–∞—Ç–∞'; metaEl.textContent = `${teams.length} –∫–æ–º–∞–Ω–¥ ‚Ä¢ ${totalQuestions} –≤–æ–ø—Ä–æ—Å–æ–≤`; nextBtn.disabled = true; skipBtn.disabled = true; }

function pickTurn(){ currentTeamEl.textContent = teams[currentTeamIndex].name; feedbackDiv.textContent=''; levelPill.textContent='–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å'; levelPill.className='q-level'; [pickEasy,pickMedium,pickHard].forEach(b=>b.disabled=false); answersDiv.innerHTML=''; questionText.textContent = `${teams[currentTeamIndex].name}, –≤—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞.`; }

[pickEasy,pickMedium,pickHard].forEach(btn=>btn.addEventListener('click', ()=>{ if(btn.disabled) return; const risk = btn.dataset.risk; askQuestion(risk); }));

function askQuestion(risk){ if(!pool[risk] || pool[risk].length===0){ alert('–í–æ–ø—Ä–æ—Å—ã —ç—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å. –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —É—Ä–æ–≤–µ–Ω—å.'); return; } const q = pool[risk].pop(); levelPill.textContent = risk==='easy'?'–õ—ë–≥–∫–∏–π':risk==='medium'?'–°—Ä–µ–¥–Ω–∏–π':'–°–ª–æ–∂–Ω—ã–π'; levelPill.className = 'q-level '+(risk==='easy'?'easy':risk==='medium'?'medium':'hard'); questionText.textContent = q.q; answersDiv.innerHTML=''; q.opts.forEach((opt,idx)=>{ const b=document.createElement('button'); b.className='answer-btn smooth'; b.innerHTML = `<span style="font-weight:900">${String.fromCharCode(65+idx)}.</span>&nbsp;<span>${escapeHtml(opt)}</span>`; b.dataset.idx=idx; b.addEventListener('click', ()=>selectAnswer(b,q,risk)); answersDiv.appendChild(b); }); [pickEasy,pickMedium,pickHard].forEach(b=>b.disabled=true); nextBtn.disabled=true; skipBtn.disabled=false; window._current={q,risk}; }

function selectAnswer(btn,q,risk){ // –±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
  Array.from(answersDiv.querySelectorAll('button')).forEach(b=>b.classList.add('disabled'));
  const chosen = Number(btn.dataset.idx); const correct = q.a;
  if(chosen === correct){ feedbackDiv.textContent = `–ü—Ä–∞–≤–∏–ª—å–Ω–æ! +${POINTS[risk]} –æ—á–∫–æ–≤`; feedbackDiv.className='feedback good'; teams[currentTeamIndex].score += POINTS[risk]; renderScoreboard(); burstConfetti(); }
  else { feedbackDiv.textContent = `–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${q.opts[correct]}`; feedbackDiv.className='feedback bad'; }
  // –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
  const info = document.createElement('div'); info.className='muted'; info.style.marginTop='8px'; info.textContent = q.info || ''; answersDiv.parentNode.appendChild(info);
  askedCount++; remainingEl.textContent = totalQuestions - askedCount; progressEl.textContent = `–í–æ–ø—Ä–æ—Å ${askedCount} –∏–∑ ${totalQuestions}`; nextBtn.disabled=false; skipBtn.disabled=true; window._current=null;
}

skipBtn.addEventListener('click', ()=>{ if(!window._current) return; askedCount++; remainingEl.textContent = totalQuestions - askedCount; progressEl.textContent = `–í–æ–ø—Ä–æ—Å ${askedCount} –∏–∑ ${totalQuestions}`; feedbackDiv.textContent = `${teams[currentTeamIndex].name} –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç ‚Äî –æ—á–∫–∏ –Ω–µ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è.`; feedbackDiv.className='feedback bad'; answersDiv.innerHTML=''; window._current=null; nextBtn.disabled=false; skipBtn.disabled=true; });

nextBtn.addEventListener('click', ()=>{ if(askedCount >= totalQuestions){ finishGame(); return; } currentTeamIndex = (currentTeamIndex + 1) % teams.length; pickTurn(); });

function finishGame(){ const sorted = teams.slice().sort((a,b)=>b.score-a.score); const winner = sorted[0]; turnIndicator.textContent = '–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!'; questionText.textContent = `–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${winner.name} ‚Äî ${winner.score} –æ—á–∫–æ–≤.`; answersDiv.innerHTML=''; feedbackDiv.textContent=''; const msg=document.createElement('div'); msg.innerHTML = `<div style="font-weight:900;margin-top:8px">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</div><div class='muted' style='margin-top:8px'>${teams.map(t=>escapeHtml(t.name)+': '+t.score+' –æ—á–∫.').join('<br>')}</div>`; answersDiv.appendChild(msg); nextBtn.disabled=true; skipBtn.disabled=true; }

function updateMeta(){ metaEl.textContent = `${teams.length} –∫–æ–º–∞–Ω–¥ ‚Ä¢ ${totalQuestions} –≤–æ–ø—Ä–æ—Å–æ–≤`; }

function flash(el){ el.style.boxShadow='0 0 0 4px rgba(255,215,100,0.35)'; setTimeout(()=>el.style.boxShadow='',350); }

/* ========== –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ–π —ç—Ñ—Ñ–µ–∫—Ç ========== */
function burstConfetti(){ const count = 22; for(let i=0;i<count;i++){ const p = document.createElement('div'); p.className='confetti-piece'; const w = 6 + Math.random()*8; p.style.width = w+'px'; p.style.height = (8+Math.random()*12)+'px'; p.style.left = (50 + (Math.random()-0.5)*30) + '%'; p.style.top = '20%'; p.style.background = ['#FFD166','#FF6B6B','#4DD599','#00A86B'][Math.floor(Math.random()*4)]; p.style.transform = `translateY(0) rotate(${Math.random()*360}deg)`; p.style.opacity=1; p.style.position='absolute'; confettiRoot.appendChild(p);
  // animate
  const dx = (Math.random()-0.5)*800; const dy = 600 + Math.random()*200; p.animate([{transform:`translate(0,0) rotate(0deg)`, opacity:1},{transform:`translate(${dx}px, ${dy}px) rotate(${Math.random()*720}deg)`, opacity:0}],{duration:1200+Math.random()*800,easing:'cubic-bezier(.2,.7,.1,1)'});
  setTimeout(()=>p.remove(),2000);
}
// –ª—ë–≥–∫–∏–π –ª–æ–≥ –¥–ª—è —Ä–∞–¥–æ—Å—Ç–∏
const logo = document.querySelector('.logo'); logo.animate([{transform:'scale(1)'},{transform:'scale(1.06)'},{transform:'scale(1)'}],{duration:700,iterations:1}); }

// –∫–ª–∞–≤–∏—à–∏ 1-4 –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
document.addEventListener('keydown', (e)=>{ if(!window._current) return; const idx = Number(e.key)-1; if(!Number.isNaN(idx)){ const buttons = Array.from(answersDiv.querySelectorAll('button')); if(buttons[idx]) buttons[idx].click(); } });

// –°—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
resetPool(); updateMeta(); renderTeamChips(); questionText.textContent='–ù–∞–∂–º–∏—Ç–µ ¬´–ù–∞—á–∞—Ç—å –∏–≥—Ä—É¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.'; turnIndicator.textContent='–û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞'; nextBtn.disabled=true; skipBtn.disabled=true;

</script>
</body>
</html>